<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio Communication Interface</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            display: flex;
            gap: 40px;
        }
       
        .radio-interface {
            background-color: rgb(227, 232, 242);
            border: 1px solid #ccc;
            border-radius: 10px;
            margin-top: 20px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            width: 320px;
            max-height: max-content;
        }
        .radio-interface h2 {
            text-align: center;
            color: #ccc;
            margin-bottom: 15px;
            background-color: #253ad5;
            border-radius: 8px;
        }
        .frequency-display, .channel-display, .volume-display {
            font-size: 1.2em;
            text-align: center;
            margin: 5px 0;
            padding: 2px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #e9e9e9;
            display: inline;
            max-width: fit-content;
            max-height: fit-content;
        }
        .controls {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
        .controls div {
            text-align: center;
        }
        button, input, select {
            padding: 12px;
            margin: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            display: inline;
        }
        button {
            font-size: 1.2em;
            text-align: center;
            background-color: #0620eb;
            color: white;
            cursor: pointer;
        }
        button:disabled {
            background-color: #ccc;
        }
        .radio-group {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }

        .flight-status-display {
            text-align: center;
            margin-bottom: 20px;
        }
        .helicopter-display {
            width: 180px;
            height: 180px;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            border-radius: 50%;
            margin: 0 auto;
            position: relative;
        }
        .parameter-value
        {
            position: absolute;
            bottom: 5%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2em;
            color: black
        }
        .status-parameter {
            margin: 10px 0;
        }
        .status-parameter label {
            display: block;
            margin-bottom: 5px;
        }
        .status-parameter input {
            width: calc(100% - 22px);
            padding: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="radio-interface">
            <h2>Radio Communication</h2>
            
            <label for="callsign">Callsign:</label>
            <input type="text" id="callsign" placeholder="Enter Callsign">
            <br><br>
            <div class="radio-group">
                <label for="radio-select">Select Radio:</label>
                <label>
                    <input type="radio" name="radio-select" value="Nav1">
                    NAV1
                </label>
                <label>
                    <input type="radio" name="radio-select" value="Nav2">
                    NAV2
                </label>
                <label>
                    <input type="radio" name="radio-select" value="Comm1">
                    COMM1
                </label>
                <label>
                    <input type="radio" name="radio-select" value="Comm2">
                    COMM2
                </label>
            </div>

            <label for="frequency-input">Frequency:</label>
            <input type="number"  id="frequency-input" step="0.01" placeholder="123.45", value="123.45">

              <br><br>
            <label for="volume-input">Volume:</label>
            <input type="range" id="volume-input" min="0" max="10" value="5">
            <div class="volume-display" id="volume-display">5</div>

            <div class="controls">
                <button onclick="transmit()">Transmit</button>
                <button onclick="receive()">Receive</button>
            </div>
        </div>

        <div class="interface flight-status-interface">
            <h2>Flight Status</h2>
            
            <div class="flight-status-display">
                <h3>Altitude</h3>
                <div class="helicopter-display" >
                    <img class="helicopter-display" id="altitude-img">
                    <div  id="altitude-display" class="parameter-value">Loading...</div>
                </div>
                
            </div>
            
            <div class="flight-status-display"  style="display: inline">
                <h3>Pressure</h3>
                <div class="helicopter-display">
                    <img class="helicopter-display" id="pressure-img">
                    <div id="pressure-display" class="parameter-value">Loading...</div>
                </div>
            </div>
            
            <div class="flight-status-display">
                <h3>Fuel Gauge</h3>
                <div class="helicopter-display">
                    <img class="helicopter-display" id="fuel-img">
                    <div id="fuel-display" class="parameter-value">Loading...</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentFrequency = 123.45;
        let volumeLevel = 5;

        document.getElementById('frequency-input').addEventListener('change', function() {
            currentFrequency = parseFloat(this.value);
            changeFrequency();
        });

        document.getElementById('volume-input').addEventListener('input', function() {
            volumeLevel = this.value;
            updateVolumeDisplay();
        });

        // function updateFrequencyDisplay() {
        //     document.getElementById('frequency-display').innerText = currentFrequency.toFixed(2) + ' MHz';
        // }

        function updateVolumeDisplay() {
            document.getElementById('volume-display').innerText = volumeLevel;
        }

        function changeFrequency(step) {
            currentFrequency += step;
            document.getElementById('frequency-input').value = currentFrequency.toFixed(2);
            //updateFrequencyDisplay();
        }

        function transmit() {
            const callsign = document.getElementById('callsign').value;
            const radio = document.querySelector('input[name="radio-select"]:checked');
            if (radio) {
                alert(`${callsign} transmitting on ${radio.value} ${currentFrequency.toFixed(2)} MHz`);
            } else {
                alert('Please select a radio channel');
            }
        }

        function receive() {
            const callsign = document.getElementById('callsign').value;
            const radio = document.querySelector('input[name="radio-select"]:checked');
            if (radio) {
                alert(`${callsign} receiving on ${radio.value} ${currentFrequency.toFixed(2)} MHz`);
            } else {
                alert('Please select a radio channel');
            }
        }

        //updateFrequencyDisplay();
        updateVolumeDisplay();


        // Function to fetch and update flight status from server
        function updateFlightStatus() {
            // fetch flight status from server
            const altitude = Math.floor(Math.random() * 5000); // Random altitude value
            const pressure = Math.floor(Math.random() * 1000) + 900; // Random pressure value
            const fuelLevel = Math.floor(Math.random() * 100); // Random fuel level

            // Update altitude display
            /* document.getElementById('altitude-img').setAttribute(
                "src","/Users/sanyadoda/ONR-HAI/Server/static/HAIInterface/img/altitude.png") */
            document.getElementById('altitude-display').innerHTML = `
                <div class="parameter-value">${altitude} ft</div>`;

            // Update pressure display
            // document.getElementById('pressure-img').setAttribute(
            //     "src","/Users/sanyadoda/ONR-HAI/Server/static/HAIInterface/img/pressure_gauge.png")
            document.getElementById('pressure-display').innerHTML = `
                <div class="parameter-value">${pressure} hPa</div>`;

            // Update fuel gauge display
            // document.getElementById('fuel-img').setAttribute(
            //     "src","/Users/sanyadoda/ONR-HAI/Server/static/HAIInterface/img/Fuel_gauge.png")
            document.getElementById('fuel-display'). innerHTML = `
                <div class="parameter-value-fuel">${fuelLevel}%</div>`; 
        }

        // Initial update of flight status
        updateFlightStatus();

        // Set interval to periodically update flight status
        setInterval(updateFlightStatus, 5000); // Update every 5 seconds
    </script>
</body>
</html>
